{% extends 'main.html' %}

{% block content %}

<style> 
    .g-map{
        height: 500px;
        width: 50%;
    }

</style>

<section> 

    <h1>Query Result</h1>
    <div>
        {% for result in ResultsData %}
            <h2>Day {{ result.day_of_travel }}</h2>
            <p> Locaiton: {{ result.location }}</p>
            <p><b>Time:</b> {{ result.time }}</p>
            <p>{{ result.description }}</p>
            <p><b>Expected Spending:</b> {{ result.expected_spending }}</p>
            <p><b>Additional Details:</b> {{ result.additional_details }}</p>
            <p><img src="{{ result.image }}" alt="img"></p>
            <p><b>Coordinates:</b> {{ result.coordinates }}</p>
            <hr>  
        {% endfor %}

        <p>{{ Coordinates }}</p>
    </div>

    <div class="g-map"> 
        <gmp-map center="{{ Coordinates }}" zoom="12" map-id="RESULT_MAP">    
                {% for result in ResultsData %}
                <gmp-advanced-marker position="{{ result.coordinates }}" title="{{ result.location }}"></gmp-advanced-marker>
                {% endfor %}
        </gmp-map>
        
    </div>

    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMIivzWkoyPziejEZymX_dZeP-euv7oqU&callback=console.debug&libraries=maps,marker&v=beta"></script>
    
</section>

{% endblock %}